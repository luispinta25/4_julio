<div class="page-header mensualidad-page">
  <h2>Cobro mensualidad</h2>
  <p class="text-muted">Busca por nombre o cédula (búsqueda local). Selecciona un socio para consultar.</p>
</div>

<div class="grid" style="grid-template-columns: 1fr; gap: 16px;">
  <div class="card">
    <h3>Buscar socio</h3>
    <div class="form-grid" style="grid-template-columns: 1fr;">
      <div class="form-group">
        <label for="mens-search">Nombre o cédula</label>
        <input id="mens-search" class="form-input" type="text" placeholder="Ej: 0102030405 o Juan Pérez" autocomplete="off" />
        <small class="text-muted">No consulta a la base de datos mientras escribes. Selecciona un socio.</small>
      </div>
    </div>

    <div id="mens-local-results" class="mt-2"></div>
    <div id="mens-socio-info" class="mt-2" style="display:none;"></div>
    <div id="mens-msg" class="inline-message" style="display:none;"></div>
  </div>

  <div class="stats-grid" id="mens-dashboard" style="display:none;">
    <div class="stat-card">
      <div class="stat-label">Lotes</div>
      <div id="mens-stat-lotes" class="stat-value">0</div>
      <div class="stat-sub text-muted">Cantidad de lotes del socio</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Pendiente</div>
      <div id="mens-stat-pendiente" class="stat-value">$0.00</div>
      <div class="stat-sub text-muted">Total pendiente por años</div>
    </div>
  </div>

  <div class="card">
    <h3>Pendientes / Histórico por año</h3>
    <div class="text-muted text-sm mb-2">Primero salen los años pendientes, luego los pagados.</div>

    <div class="table-container">
      <table class="data-table">
        <thead>
          <tr>
            <th>Año</th>
            <th>Valor (USD)</th>
            <th>Detalle</th>
            <th>Pendiente</th>
            <th>Acción</th>
          </tr>
        </thead>
        <tbody id="mens-body">
          <tr><td colspan="5" class="text-center p-4">Selecciona un socio para ver sus años</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="card">
    <h3>Registrar cobro</h3>
    <div id="mens-seleccion" class="text-muted">Selecciona un año pendiente en la tabla.</div>

    <form id="mens-form">
      <div class="form-grid">
        <div class="form-group">
          <label for="mens-fecha">Fecha</label>
          <input id="mens-fecha" class="form-input" type="date" />
        </div>

        <div class="form-group">
          <label for="mens-hasta-mes">Pagar hasta (mes)</label>
          <select id="mens-hasta-mes" class="form-input">
            <option value="1">Enero</option>
            <option value="2">Febrero</option>
            <option value="3">Marzo</option>
            <option value="4">Abril</option>
            <option value="5">Mayo</option>
            <option value="6">Junio</option>
            <option value="7">Julio</option>
            <option value="8">Agosto</option>
            <option value="9">Septiembre</option>
            <option value="10">Octubre</option>
            <option value="11">Noviembre</option>
            <option value="12">Diciembre</option>
          </select>
        </div>

        <div class="form-group">
          <label for="mens-monto">Monto</label>
          <input id="mens-monto" class="form-input" type="number" step="0.01" min="0" placeholder="0.00" />
        </div>

        <div class="form-group">
          <label for="mens-referencia">Referencia</label>
          <input id="mens-referencia" class="form-input" type="text" placeholder="Opcional" />
        </div>
      </div>

      <div class="form-group">
        <label for="mens-observaciones">Observaciones</label>
        <input id="mens-observaciones" class="form-input" type="text" placeholder="Opcional" />
      </div>

      <button id="mens-registrar" class="btn btn-primary" type="submit" disabled>Registrar cobro</button>
      <div id="mens-pago-msg" class="inline-message" style="display:none;"></div>
    </form>
  </div>
</div>
